# 定时任务

内置了用于执行定时任务的 cron 服务，这样你可以在设备上定期执行一些脚本，所有规则都将以 root 身份执行。你需要会编写基本的 crontab 规则，如果不熟悉请先自行了解。

现在请打开 web 控制台或者连接设备的 ssh/adb shell，执行命令 `crontab -e` 后，你将进入编辑模式，在英文输入模式下按下字母 `i`，随后写下相关规则，并依次按下 `ESC`，`SHIFT` + `:`，输入 `wq` 并按下回车来保存即可。受限于安卓休眠机制，息屏后定时任务可能并不会以你期望的时间运行，你可能需要将设备设置为常亮才能正常进行。

一些规则示例

```
@reboot      echo 框架启动时执行
0 */1 * * *  echo 每一小时执行
* * * * *    echo 每一分钟执行
0 8 * * *    echo 每天八点执行
```

如果你想保存定时任务的输出

```
* * * * *    echo hello >/data/usr/script.log 2>&1
```
